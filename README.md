
Проект: Time-Recorder

Описание приложения:
Time-Recorder — это небольшое веб-приложение для фиксирования времени в момент нажатия.
Пользователи могут добавлять записи нажимая на кнопку и видеть в какое время они ее нажали.
На веб странице видны последние 5 совершенных кликов.
Хранится максимум 20 последних записей: если приходит 21-я запись, самая старая автоматически удаляется, чтобы база не разрасталась.
Реализована простая защита от спама: если пользователь пытается отправлять записи слишком часто, новые запросы блокируются на короткий промежуток времени.
Приложение написано на Node.js + Express. Для учебного проекта используется встроенное хранение данных в памяти Node.js, без полноценной базы данных.
Эндпоинт /health позволяет проверять работу сервера.

CI/CD и автоматизация с Jenkins:
Проект интегрирован с Jenkins Pipeline, который выполняет следующие шаги:
При старте сборки отправляется уведомление в Telegram: “Ну что народ, погнали!” с указанием имени job и номера сборки.
Checkout кода из GitHub.
Сборка Docker-образа приложения (time-recorder:latest).
Развёртывание нового контейнера:
Остановка и удаление старого контейнера (time-recorder-app).
Запуск нового контейнера.
Проверка, что контейнер запущен (по ID контейнера).

Post Actions в Jenkins:
В случае ошибки сборки или развёртывания: отправляется уведомление в Telegram: “Люба, у нас отмена!”.
В случае успешной сборки: отправляется уведомление: “Все тип топ!”.
Для управления Docker-контейнерами используется Docker Compose (для локальной разработки и развёртывания на сервере). Это позволяет поднимать приложение и дополнительные сервисы одной командой.

Мониторинг и метрики:
Для мониторинга работы приложения интегрированы Prometheus и Grafana.
Prometheus собирает метрики с приложения и Docker-контейнеров:
Статус контейнера (запущен/остановлен).
Количество запросов к приложению.

Grafana используется для визуализации метрик Prometheus:
Созданы дашборды с графиками времени отклика и количества запросов.
Настроены предупреждения: если контейнер падает или время отклика превышает норму, приходит уведомление.
Мониторинг развёрнут через Docker Compose, что позволяет поднимать Prometheus и Grafana вместе с приложением и легко управлять ими.

Технологии:
Node.js + Express
Docker, Docker Compose
Jenkins Pipeline (CI/CD)
Git + GitHub
Telegram Bot (уведомления о сборках)
Prometheus + Grafana (мониторинг)

Структура проекта

time-recorder/
├─ Dockerfile
├─ docker-compose.yml
├─ prometheus.yml
├─ grafana-dashboard.json
├─ setup.sh           # Скрипт для запуска всех сервисов
├─ server.js          # Основной сервер Node.js
├─ db.sqlite          # База данных (SQLite)
├─ public/            # Статика (HTML/JS)
├─ package.json
├─ package-lock.json
└─ README.md
